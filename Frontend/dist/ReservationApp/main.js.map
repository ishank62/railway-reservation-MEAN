{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/reservation/reservation.component.ts","./src/app/reservation/reservation.component.html","./src/app/reservation/reservation.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ReservationComponent } from './reservation/reservation.component';\n\nconst routes: Routes = [\n  {\n    path: 'reservation',\n    component: ReservationComponent,\n  },\n  { path: '**', redirectTo: '/reservation' },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'ReservationApp';\n}\n","<router-outlet></router-outlet>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ReservationComponent } from './reservation/reservation.component';\n\n@NgModule({\n  declarations: [AppComponent, ReservationComponent],\n  imports: [BrowserModule, AppRoutingModule, HttpClientModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ReservationService } from './reservation.service';\nimport { ObjectID } from 'bson';\n\n@Component({\n  selector: 'app-reservation',\n  templateUrl: './reservation.component.html',\n  styleUrls: ['./reservation.component.scss'],\n})\nexport class ReservationComponent implements OnInit {\n  passengerId = new ObjectID().toString();\n  numberOfSeats;\n  seats = [];\n  filledSeats = [];\n  selectedSeats = [];\n  success = false;\n  validation = true;\n\n  constructor(private rs: ReservationService) {}\n\n  ngOnInit(): void {\n    this.rs.getSeats().subscribe((res) => {\n      this.filledSeats = res['response']['filledSeats'];\n    });\n    for (let i = 1; i <= 80; i++) {\n      this.seats.push(i);\n    }\n  }\n\n  handleChange(event) {\n    this.numberOfSeats = parseInt(event.target.value);\n    if (!isNaN(this.numberOfSeats) && this.numberOfSeats <= 7)\n      this.validation = true;\n    else this.validation = false;\n  }\n\n  submitNoOfSeats() {\n    if (\n      this.seats.length - this.filledSeats.length < this.numberOfSeats ||\n      this.numberOfSeats > 7\n    ) {\n      this.validation = false;\n      return;\n    }\n    this.selectedSeats = [];\n    let spacesInRow = this.getSpacesInRows();\n\n    let max = 0;\n    for (let i = 0; i < spacesInRow.length; i++) {\n      if (max < spacesInRow[i]) max = spacesInRow[i];\n      if (spacesInRow[i] >= this.numberOfSeats) {\n        max = spacesInRow[i];\n        break;\n      }\n    }\n\n    let index = spacesInRow.indexOf(max);\n    let counter = 0;\n    for (let i = index * 7; i < index * 7 + 7; i++) {\n      if (this.filledSeats.indexOf(this.seats[i]) < 0) {\n        this.selectedSeats.push(this.seats[i]);\n        counter++;\n      }\n      if (counter === this.numberOfSeats) break;\n    }\n\n    let prevRow = index - 1;\n    let nextRow = index + 1;\n    while (counter <= this.numberOfSeats) {\n      if (prevRow >= 0) {\n        for (let i = prevRow * 7; i < prevRow * 7 + 7; i++) {\n          if (this.filledSeats.indexOf(this.seats[i]) < 0) {\n            this.selectedSeats.push(this.seats[i]);\n            counter++;\n          }\n          if (counter === this.numberOfSeats) break;\n        }\n      }\n      if (counter === this.numberOfSeats) break;\n      if (nextRow < 12) {\n        for (let i = nextRow * 7; i < nextRow * 7 + 7 && i < 80; i++) {\n          if (this.filledSeats.indexOf(this.seats[i]) < 0) {\n            this.selectedSeats.push(this.seats[i]);\n            counter++;\n          }\n          if (counter === this.numberOfSeats) break;\n        }\n      }\n      if (counter === this.numberOfSeats) break;\n      prevRow--;\n      nextRow++;\n    }\n    // let sortedSpacesInRow = spacesInRow.slice();\n    // sortedSpacesInRow.sort(function (a, b) {\n    //   return b - a;\n    // });\n\n    // let counter = 0;\n    // for (let j = 0; j < sortedSpacesInRow.length; j++) {\n    //   let index = spacesInRow.indexOf(sortedSpacesInRow[j]);\n    //   for (let i = index * 7; i < index * 7 + 6; i++) {\n    //     if (this.filledSeats.indexOf(this.seats[i]) < 0) {\n    //       this.selectedSeats.push(this.seats[i]);\n    //       counter++;\n    //     }\n    //     if (counter === this.numberOfSeats) break;\n    //   }\n    //   if (counter === this.numberOfSeats) break;\n    // }\n  }\n\n  getSpacesInRows() {\n    let spacesInRow = [];\n    let counter = 0;\n    for (let i = 0; i < this.seats.length; i++) {\n      if (this.filledSeats.indexOf(this.seats[i]) < 0) {\n        counter++;\n      }\n      if ((i + 1) % 7 === 0) {\n        spacesInRow.push(counter);\n        counter = 0;\n      }\n      if (i === this.seats.length - 1) {\n        spacesInRow.push(counter);\n        counter = 0;\n      }\n    }\n    return spacesInRow;\n  }\n\n  bookSeats() {\n    if (!this.selectedSeats.length) {\n      alert('Please select some seats first!');\n      return;\n    }\n    let reqBody = {\n      passengerId: this.passengerId,\n      seatNumbers: this.selectedSeats,\n    };\n    this.rs.reserveSeats(reqBody).subscribe((res) => {\n      this.success = true;\n    });\n  }\n\n  deleteAllSeats() {\n    this.rs.deleteAllReservations().subscribe((res) => {\n      this.rs.getSeats().subscribe((res) => {\n        this.filledSeats = res['response']['filledSeats'];\n        this.selectedSeats = [];\n      });\n    });\n  }\n}\n","<div class=\"main\">\n  <h1>Welcome to Railway Reservation Page</h1>\n  <ng-container>\n    <h4>Please enter the no. of seats you want to book in the train below.</h4>\n    <input (keyup)=\"handleChange($event)\" />\n    <button (click)=\"submitNoOfSeats()\">Submit</button>\n    <p class=\"red\" *ngIf=\"!validation\">\n      Only Numbers less than or equal to 7 allowed.\n    </p>\n  </ng-container>\n\n  <h2>SEATS AVAILABILITY</h2>\n  <p>(Two columns are shown only to fit seats on page without scrolling)</p>\n  <div class=\"content\">\n    <div class=\"seats-container\">\n      <ng-container *ngFor=\"let seat of seats; let i = index\">\n        <div\n          *ngIf=\"i < 63\"\n          class=\"seat\"\n          [ngClass]=\"{\n            grey: filledSeats.indexOf(seat) > -1,\n            green: selectedSeats.indexOf(seat) > -1\n          }\"\n        >\n          <p>\n            <strong>{{ seat }}</strong>\n          </p>\n        </div>\n      </ng-container>\n    </div>\n    <div class=\"seats-container\">\n      <ng-container *ngFor=\"let seat of seats; let i = index\">\n        <div\n          *ngIf=\"i > 63 && i < 80\"\n          class=\"seat\"\n          [ngClass]=\"{\n            grey: filledSeats.indexOf(seat) > -1,\n            green: selectedSeats.indexOf(seat) > -1\n          }\"\n        >\n          <p>\n            <strong>{{ seat }}</strong>\n          </p>\n        </div>\n      </ng-container>\n    </div>\n    <div class=\"success\">\n      <button class=\"book\" (click)=\"bookSeats()\">\n        <h4><strong>Book Selected Seats</strong></h4>\n      </button>\n      <h1 *ngIf=\"success\">\n        Congrats! Seat no(s): {{ selectedSeats.join(\", \") }} booked\n        Successfully!\n      </h1>\n      <br /><br /><br /><br /><br />\n      <button class=\"delete\" (click)=\"deleteAllSeats()\">\n        <h4><strong>Cancel All reservations for this train</strong></h4>\n      </button>\n      <p class=\"red\">\n        <strong\n          >(Caution: Clicking this button will erase all reservations!)</strong\n        >\n      </p>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nlet GPD_API_URL = `${environment.API_URL}`;\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReservationService {\n  constructor(private http: HttpClient) {}\n\n  public getSeats() {\n    return this.http.get(`${GPD_API_URL}/reservations/reserved-seats`).pipe();\n  }\n\n  public reserveSeats(reqBody) {\n    return this.http\n      .post(`${GPD_API_URL}/reservations/reserve-seats`, reqBody)\n      .pipe();\n  }\n  //   passengerId: {\n  //     type: mongoose.Schema.Types.ObjectId,\n  //     required: true\n  // },\n  // seatNumber: {\n  //     type: Number,\n  //     required: true\n  // }\n\n  public deleteAllReservations() {\n    return this.http\n      .delete(`${GPD_API_URL}/reservations/delete-all-reservations`)\n      .pipe();\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  API_URL: 'http://localhost:3001',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}